Сервис управления пользователями и сегментами
Описание
Сервис позволяет управлять пользователями и их принадлежностью к сегментам для аналитических и маркетинговых задач. Основные возможности:

Создание и удаление сегментов

Добавление/удаление пользователей в сегменты

Автоматическое распределение сегмента на % пользователей

Просмотр сегментов пользователя

Быстрый старт
Установите зависимости:

pip install -r requirements.txt
Инициализируйте БД:

python init_db.py
Запустите сервер:

uvicorn app.main:app --reload

Примеры запросов
Создать пользователя:

POST /users/
{"name": "Иван Иванов"}
Создать сегмент:

POST /segments/
{"name": "PREMIUM", "slug": "premium_users"}
Добавить в сегмент:

POST /users/assign/
{"user_id": 1, "segment_slug": "premium_users"}
Распределить сегмент:

POST /distribute/
{"segment_slug": "premium_users", "percent": 30}